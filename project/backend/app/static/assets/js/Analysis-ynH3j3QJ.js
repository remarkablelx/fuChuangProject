import{e as l,m as i,l as b,c as d,o as _,a as e,w,v as F,t as f,F as I,r as A,n as T,b as $}from"./index-UshxQZUA.js";import{_ as h}from"./Logo--VgbTpDB.js";import{u as k}from"./Main-CEGeMfWM.js";import"./index-BtuGy7By.js";const V={class:"video-panel"},B={class:"video-wrapper"},C={class:"video-frame"},D=["src"],P={class:"video-controls"},E={class:"time-display"},L={__name:"VideoPanel",setup(y){l(!1);const s=l(0),t=l({list:[],total:1,fps:30}),u=i(()=>{const a=t.value.total||1,o=Math.min(Math.floor(s.value/100*a),a-1);return t.value.list[o]||""}),n=i(()=>{const a=t.value.total||1,o=t.value.fps||30,c=s.value/100*a/o,m=Math.floor(c/60),p=Math.floor(c%60);return`${String(m).padStart(2,"0")}:${String(p).padStart(2,"0")}`});return i(()=>(100/Math.max(t.value.total-1,1)).toFixed(4)),b(async()=>{try{const a=await fetch("/api/frames"),{total:o,prefix:c,files:m,fps:p}=await a.json(),g=v=>{v.forEach(M=>{const S=new Image;S.src=M})},x=m.map(v=>`${c}${v}`);g(x),t.value={list:x,total:Math.max(o,1),fps:Math.max(p,1)},s.value=0}catch(a){console.error("帧加载失败:",a)}}),(a,o)=>(_(),d("div",V,[e("div",B,[e("div",C,[e("img",{src:u.value,alt:""},null,8,D)]),e("div",P,[w(e("input",{type:"range","onUpdate:modelValue":o[0]||(o[0]=c=>s.value=c),min:"0",max:"100",class:"progress-bar"},null,512),[[F,s.value]]),e("div",E,f(n.value),1)])])]))}},N=h(L,[["__scopeId","data-v-f62acec3"]]),U={class:"analysis-tabs"},j={class:"tab-nav"},z=["onClick"],H={__name:"AnalysisTabs",setup(y){const s=l("分析报告"),t=l(["分析报告","动作分析","可视化图表"]);return(u,n)=>(_(),d("div",U,[e("div",j,[(_(!0),d(I,null,A(t.value,r=>(_(),d("button",{key:r,class:T({active:s.value===r}),onClick:a=>s.value=r},f(r),11,z))),128))]),n[0]||(n[0]=e("div",{class:"tab-content"},null,-1))]))}},q=h(H,[["__scopeId","data-v-8bda7552"]]),G={class:"analysis-container"},J={class:"section-title"},K={class:"content-wrapper"},O={__name:"Analysis",setup(y){const s=k(),t=i(()=>s.historyItems.find(n=>n.id===s.currentAnalysisId)),u=i(()=>t.value?new Date(t.value.time).toLocaleString():"");return(n,r)=>(_(),d("div",G,[e("h2",J,"分析汇总界面 - "+f(u.value),1),e("div",K,[$(N),$(q)])]))}},Y=h(O,[["__scopeId","data-v-2c67e4f6"]]);export{Y as default};
