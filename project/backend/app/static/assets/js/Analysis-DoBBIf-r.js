import{e as d,m as l,l as S,c as _,o as u,a,w,v as F,t as f,F as I,r as A,n as T,b as $}from"./index-DvFSEw6X.js";import{_ as h}from"./Logo-DoPk92ps.js";import{u as k}from"./Main-B475vtlw.js";const V={class:"video-panel"},B={class:"video-wrapper"},C={class:"video-frame"},D=["src"],P={class:"video-controls"},E={class:"time-display"},L={__name:"VideoPanel",setup(y){d(!1);const s=d(0),t=d({list:[],total:1,fps:30}),i=l(()=>{const e=t.value.total||1,o=Math.min(Math.floor(s.value/100*e),e-1);return t.value.list[o]||""}),n=l(()=>{const e=t.value.total||1,o=t.value.fps||30,c=s.value/100*e/o,m=Math.floor(c/60),p=Math.floor(c%60);return`${String(m).padStart(2,"0")}:${String(p).padStart(2,"0")}`});return l(()=>(100/Math.max(t.value.total-1,1)).toFixed(4)),S(async()=>{try{const e=await fetch("/api/frames"),{total:o,prefix:c,files:m,fps:p}=await e.json(),g=v=>{v.forEach(b=>{const M=new Image;M.src=b})},x=m.map(v=>`${c}${v}`);g(x),t.value={list:x,total:Math.max(o,1),fps:Math.max(p,1)},s.value=0}catch(e){console.error("帧加载失败:",e)}}),(e,o)=>(u(),_("div",V,[a("div",B,[a("div",C,[a("img",{src:i.value},null,8,D)]),a("div",P,[w(a("input",{type:"range","onUpdate:modelValue":o[0]||(o[0]=c=>s.value=c),min:"0",max:"100",class:"progress-bar"},null,512),[[F,s.value]]),a("div",E,f(n.value),1)])])]))}},N=h(L,[["__scopeId","data-v-ade60bb2"]]),U={class:"analysis-tabs"},j={class:"tab-nav"},z=["onClick"],H={__name:"AnalysisTabs",setup(y){const s=d("分析报告"),t=["分析报告","动作分析","可视化图表"];return(i,n)=>(u(),_("div",U,[a("div",j,[(u(),_(I,null,A(t,r=>a("button",{key:r,class:T({active:s.value===r}),onClick:e=>s.value=r},f(r),11,z)),64))]),n[0]||(n[0]=a("div",{class:"tab-content"},null,-1))]))}},q=h(H,[["__scopeId","data-v-29bb4add"]]),G={class:"analysis-container"},J={class:"section-title"},K={class:"content-wrapper"},O={__name:"Analysis",setup(y){const s=k(),t=l(()=>s.historyItems.find(n=>n.id===s.currentAnalysisId)),i=l(()=>t.value?new Date(t.value.time).toLocaleString():"");return(n,r)=>(u(),_("div",G,[a("h2",J,"分析汇总界面 - "+f(i.value),1),a("div",K,[$(N),$(q)])]))}},X=h(O,[["__scopeId","data-v-8e0e142c"]]);export{X as default};
